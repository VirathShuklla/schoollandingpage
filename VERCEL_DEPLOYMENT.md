# üöÄ Deploy ArcTrack to Vercel

## Easy Deployment - No Backend Server Needed!

Your ArcTrack website now uses Vercel Serverless Functions, which means:
- ‚úÖ No need to deploy backend separately
- ‚úÖ Automatic scaling
- ‚úÖ Built-in SSL/HTTPS
- ‚úÖ Global CDN
- ‚úÖ One-click deployment

---

## Prerequisites

1. **Vercel Account** (free): https://vercel.com/signup
2. **Resend Account** (free): https://resend.com/signup
3. **MongoDB Atlas** (optional, free): https://www.mongodb.com/cloud/atlas/register

---

## Step 1: Get Resend API Key

Resend is a modern email service perfect for serverless apps (2,000 free emails/month).

1. **Sign up at Resend**: https://resend.com/signup
2. **Verify your email**
3. **Go to API Keys**: https://resend.com/api-keys
4. **Click "Create API Key"**
5. **Copy the key** (starts with `re_...`)

### Important: Domain Verification (Optional but Recommended)

For production, verify your domain:
1. Go to **Domains** in Resend dashboard
2. Add your domain (e.g., `arctrack.com`)
3. Add DNS records they provide
4. Update email `from` field in `/api/submit-lead.js`:
   ```javascript
   from: 'ArcTrack <leads@arctrack.com>'
   ```

For testing, use the default:
```javascript
from: 'ArcTrack <onboarding@resend.dev>'
```

---

## Step 2: Set Up MongoDB (Optional)

If you want to store leads in a database:

1. **Create account**: https://www.mongodb.com/cloud/atlas/register
2. **Create free cluster** (M0 Sandbox - Free forever)
3. **Create database user** (username & password)
4. **Whitelist IP**: Add `0.0.0.0/0` (allow from anywhere)
5. **Get connection string**: Click "Connect" ‚Üí "Connect your application"
6. **Copy URI**: 
   ```
   mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority
   ```

---

## Step 3: Deploy to Vercel

### Option A: Deploy via GitHub (Recommended)

1. **Push code to GitHub**:
   ```bash
   cd /app/frontend
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/yourusername/arctrack.git
   git push -u origin main
   ```

2. **Import to Vercel**:
   - Go to https://vercel.com/new
   - Click "Import Git Repository"
   - Select your GitHub repo
   - Configure:
     - **Framework Preset**: Create React App
     - **Root Directory**: `./` (default)
     - **Build Command**: `yarn build`
     - **Output Directory**: `build`

3. **Add Environment Variables**:
   Click "Environment Variables" and add:
   
   | Name | Value |
   |------|-------|
   | `RESEND_API_KEY` | `re_your_api_key_here` |
   | `ADMIN_EMAIL` | `arctrackdev@gmail.com` |
   | `MONGODB_URI` | `mongodb+srv://...` (optional) |
   | `MONGODB_DB_NAME` | `arctrack_db` (optional) |

4. **Click "Deploy"**
   - Vercel will build and deploy automatically
   - You'll get a URL like: `arctrack.vercel.app`

### Option B: Deploy via Vercel CLI

1. **Install Vercel CLI**:
   ```bash
   npm i -g vercel
   ```

2. **Login to Vercel**:
   ```bash
   vercel login
   ```

3. **Deploy from frontend directory**:
   ```bash
   cd /app/frontend
   vercel
   ```

4. **Follow prompts**:
   - Set up and deploy? `Y`
   - Which scope? Select your account
   - Link to existing project? `N`
   - What's your project's name? `arctrack`
   - In which directory? `./`
   - Override settings? `N`

5. **Add environment variables**:
   ```bash
   vercel env add RESEND_API_KEY
   # Paste your Resend API key
   
   vercel env add ADMIN_EMAIL
   # Enter: arctrackdev@gmail.com
   
   vercel env add MONGODB_URI
   # Paste your MongoDB connection string (optional)
   ```

6. **Deploy to production**:
   ```bash
   vercel --prod
   ```

---

## Step 4: Custom Domain (Optional)

1. **Buy domain** (Namecheap, GoDaddy, etc.)
2. **Add to Vercel**:
   - Go to Project Settings ‚Üí Domains
   - Add your domain: `www.arctrack.com`
3. **Update DNS**:
   - Add A record or CNAME as shown
4. **SSL certificate**: Auto-generated by Vercel

---

## Step 5: Test Your Deployment

1. **Visit your Vercel URL**
2. **Fill out the form**
3. **Check** `arctrackdev@gmail.com` for notification
4. **Verify** lead received welcome email

---

## Project Structure for Vercel

```
frontend/
‚îú‚îÄ‚îÄ api/                    # Vercel Serverless Functions
‚îÇ   ‚îî‚îÄ‚îÄ submit-lead.js     # Email & database handler
‚îú‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vercel.json            # Vercel configuration
‚îî‚îÄ‚îÄ .env.production        # Production environment variables
```

---

## Environment Variables Reference

### Required:
- **RESEND_API_KEY**: Your Resend API key for sending emails
- **ADMIN_EMAIL**: Email where lead notifications are sent

### Optional:
- **MONGODB_URI**: MongoDB connection string (for storing leads)
- **MONGODB_DB_NAME**: Database name (default: `arctrack_db`)

---

## Monitoring & Analytics

### Check Deployment Status:
- Vercel Dashboard: https://vercel.com/dashboard
- View logs, analytics, and performance

### Email Delivery:
- Resend Dashboard: https://resend.com/emails
- See all sent emails, delivery status, opens

### Database:
- MongoDB Atlas: https://cloud.mongodb.com
- View leads collection in real-time

---

## Troubleshooting

### Emails Not Sending?

1. **Check Resend API Key**:
   ```bash
   vercel env ls
   ```

2. **View function logs**:
   - Go to Vercel Dashboard ‚Üí Your Project ‚Üí Functions
   - Click on `submit-lead` function
   - Check logs for errors

3. **Test API endpoint**:
   ```bash
   curl -X POST https://your-site.vercel.app/api/submit-lead \
     -H "Content-Type: application/json" \
     -d '{
       "schoolName": "Test School",
       "studentStrength": "801-1200",
       "city": "Mumbai",
       "contactName": "Test User",
       "email": "test@example.com",
       "phone": "9876543210"
     }'
   ```

### Build Failing?

1. **Check build logs** in Vercel dashboard
2. **Ensure dependencies** are in `package.json`
3. **Test build locally**:
   ```bash
   cd /app/frontend
   yarn build
   ```

### Form Not Submitting?

1. **Open browser console** (F12)
2. **Check for errors**
3. **Verify API endpoint** is correct
4. **Check CORS headers** in vercel.json

---

## Cost Breakdown (All Free Tier)

| Service | Free Tier | Upgrade Needed? |
|---------|-----------|-----------------|
| Vercel Hosting | Unlimited websites, 100GB bandwidth | Only if >100GB traffic |
| Resend Emails | 3,000 emails/month | Only if >3k emails |
| MongoDB Atlas | 512MB storage | Only if >512MB data |

**Total Cost**: $0/month for most schools

---

## Updates & Redeployment

### Auto-Deploy on Git Push:
Once connected to GitHub, every push to `main` branch auto-deploys!

### Manual Redeploy:
```bash
cd /app/frontend
vercel --prod
```

---

## Admin Dashboard

Note: The admin dashboard (`/admin`) will work, but MongoDB is required for viewing leads.

Without MongoDB, leads will still:
- ‚úÖ Send email notifications
- ‚úÖ Send confirmation emails  
- ‚ùå Not appear in admin dashboard

**Recommendation**: Set up MongoDB Atlas (free) to use the admin dashboard.

---

## Security Checklist

- ‚úÖ Environment variables in Vercel (not in code)
- ‚úÖ API keys never committed to GitHub
- ‚úÖ HTTPS enabled automatically
- ‚úÖ CORS configured properly
- ‚úÖ Form validation on frontend & backend

---

## Support

- **Vercel Docs**: https://vercel.com/docs
- **Resend Docs**: https://resend.com/docs
- **MongoDB Docs**: https://www.mongodb.com/docs/atlas/

---

## Quick Start Checklist

- [ ] Create Resend account & get API key
- [ ] Create MongoDB Atlas cluster (optional)
- [ ] Push code to GitHub
- [ ] Import to Vercel
- [ ] Add environment variables
- [ ] Deploy!
- [ ] Test form submission
- [ ] Check email received
- [ ] Add custom domain (optional)

**Done!** Your website is live and sending emails! üéâ
